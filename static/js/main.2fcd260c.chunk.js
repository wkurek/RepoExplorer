(this["webpackJsonprepo-explorer"]=this["webpackJsonprepo-explorer"]||[]).push([[0],{25:function(e,a,t){e.exports={wrapper:"Repo_wrapper__2g6Mm","main-row":"Repo_main-row__183Mj","description-row":"Repo_description-row__25Gta","stargazers-col":"Repo_stargazers-col__385Oa"}},53:function(e,a,t){e.exports={wrapper:"LoadingMask_wrapper__28QnR"}},54:function(e,a,t){e.exports={pagination:"Pagination_pagination__E-kVi"}},55:function(e,a,t){e.exports={wrapper:"ReposDetails_wrapper__3XgDL"}},58:function(e,a,t){e.exports={user:"UserRepos_user__2pWs7"}},62:function(e,a,t){e.exports=t(99)},99:function(e,a,t){"use strict";t.r(a);var r,n=t(0),c=t.n(n),s=t(13),o=t.n(s),u=t(21),i=t(6),p=t(9),l=t(12),d=t(33),f=t(10),g=Object(i.b)("SEARCH_USERS_START"),m=Object(i.b)("SEARCH_USERS_SUCCESS"),b=Object(i.b)("SEARCH_USERS_FAILURE"),h=Object(i.b)("UPDATE_USERS_PAGE"),E=Object(i.b)("FETCH_USER_REPOS_START"),v=Object(i.b)("FETCH_USER_REPOS_SUCCESS"),y=Object(i.b)("FETCH_USER_REPOS_FAILURE"),O=Object(i.b)("UPDATE_USER_REPOS_PAGE"),j=function(e){return e.reduce((function(e,a){var t,r={id:(t=a).id,login:t.login,repos:[],fetching:!1,error:!1,pagination:_};return e.byId[a.id]=r,e.allIds.push(a.id),e}),{byId:{},allIds:[]})},_={page:1,pageCount:1},I={fetching:!1,error:!1,pagination:_,users:{byId:{},allIds:[]},repos:{byId:{},allIds:[]},searchQuery:null},R=Object(i.c)(I,(r={},Object(l.a)(r,g.type,(function(e){e.error=!1,e.fetching=!0})),Object(l.a)(r,m.type,(function(e,a){var t=a.payload;e.fetching=!1,e.pagination.pageCount=t.pageCount,e.users=j(t.users),e.searchQuery=t.searchQuery})),Object(l.a)(r,b.type,(function(e){e.error=!0,e.fetching=!1})),Object(l.a)(r,h.type,(function(e,a){var t=a.payload;e.pagination.page=t})),Object(l.a)(r,E.type,(function(e,a){var t=a.payload;e.users.byId[t].error=!1,e.users.byId[t].fetching=!0})),Object(l.a)(r,v.type,(function(e,a){var t=a.payload,r=t.repos.reduce((function(e,a){var t,r={id:(t=a).id,name:t.name,description:t.description,stargazersCount:t.stargazers_count};return e.byId[a.id]=r,e.allIds.push(a.id),e}),{byId:{},allIds:[]});e.users.byId[t.userId].fetching=!1,e.users.byId[t.userId].pagination.pageCount=t.pageCount,e.users.byId[t.userId].repos=r.allIds,e.repos.byId=Object(f.a)(Object(f.a)({},e.repos.byId),r.byId),e.repos.allIds=[].concat(Object(d.a)(e.repos.allIds),Object(d.a)(r.allIds)).reduceRight((function(e,a){return e.includes(a)||e.push(a),e}),[])})),Object(l.a)(r,y.type,(function(e,a){var t=a.payload;e.users.byId[t].error=!0,e.users.byId[t].fetching=!1})),Object(l.a)(r,O.type,(function(e,a){var t=a.payload;e.users.byId[t.userId].pagination.page=t.page})),r)),w=Object(p.c)({explorer:R}),U=Object(i.a)({reducer:w}),S=t(104),x=t(11),C=function(e){return e.explorer},k=Object(x.a)(C,(function(e){return e.users.byId})),P=Object(x.a)(C,(function(e){return e.pagination})),N=Object(x.a)(C,(function(e){return e.searchQuery})),Q=Object(x.a)(C,(function(e){return e.users.allIds.map((function(a){var t=e.users.byId[a],r=t.repos.map((function(a){return e.repos.byId[a]}));return Object(f.a)(Object(f.a)({},t),{},{repos:r})}))})),A=t(48),z=t(7),T=t.n(z),F=t(14),H=t(49),L=t.n(H).a.create({baseURL:"https://api.github.com",headers:{Accept:"application/vnd.github.v3+json"}}),D=t(50),G=t.n(D),M=function(e){if(!e)return 1;var a,t=G()(e);return null===t?1:(a=t,2===Object.keys(a).length&&a.first&&a.prev?Number(t.prev.page)+1:t.last?Number(t.last.page):1)},W=function(){var e=Object(F.a)(T.a.mark((function e(a){var t,r,n,c,s,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.searchQuery,r=a.page,e.next=3,L.get("/search/users?q=".concat(t,"&page=").concat(r,"&per_page=5"));case 3:return n=e.sent,c=n.data,s=n.headers,o=M(s.link),e.abrupt("return",{users:c.items,pageCount:o});case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),B=function(){var e=Object(F.a)(T.a.mark((function e(a){var t,r,n,c,s,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.login,r=a.page,e.next=3,L.get("/users/".concat(t,"/repos?page=").concat(r,"&per_page=5"));case 3:return n=e.sent,c=n.data,s=n.headers,o=M(s.link),e.abrupt("return",{repos:c,pageCount:o});case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),J=function(e){return function(){var a=Object(F.a)(T.a.mark((function a(t,r){var n,c,s,o,u;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(E(e)),a.prev=1,n=k(r()),c=n[e],s=c.login,o=c.pagination.page,a.next=6,B({login:s,page:o});case 6:u=a.sent,t(v(Object(f.a)(Object(f.a)({},u),{},{userId:e}))),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),t(y(e));case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()},q=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){var t=Object(F.a)(T.a.mark((function t(r,n){var c,s,o,u,i,p;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(g()),a&&r(h(1)),t.prev=2,c=P(n()),s=c.page,t.next=6,W({searchQuery:e,page:s});case 6:o=t.sent,r(m(Object(f.a)(Object(f.a)({},o),{},{searchQuery:e}))),u=Object(A.a)(o.users),t.prev=9,u.s();case 11:if((i=u.n()).done){t.next=17;break}return p=i.value,t.next=15,r(V.fetchUserRepos(p.id));case 15:t.next=11;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(9),u.e(t.t0);case 22:return t.prev=22,u.f(),t.finish(22);case 25:t.next=30;break;case 27:t.prev=27,t.t1=t.catch(2),r(b());case 30:case"end":return t.stop()}}),t,null,[[2,27],[9,19,22,25]])})));return function(e,a){return t.apply(this,arguments)}}()},V={fetchUserRepos:J,searchUser:q,updateUsersPage:function(e){return function(){var a=Object(F.a)(T.a.mark((function a(t,r){var n;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(h(e)),n=N(r()),a.next=4,t(q(n,!1));case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},updateUserReposPage:function(e,a){return function(){var t=Object(F.a)(T.a.mark((function t(r){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(O({page:e,userId:a})),t.next=3,r(J(a));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},X=V,$=t(26),K=t(101),Y=t(105),Z=t(102),ee=t(15),ae=t(16),te=function(e){var a=e.fetching,t=e.search,r=Object(n.useState)(""),s=Object($.a)(r,2),o=s[0],u=s[1],i=a&&c.a.createElement(K.a,{animation:"border",size:"sm",as:"span",className:"mr-2"});return c.a.createElement(Y.a,{onSubmit:function(e){t(o),e.preventDefault()}},c.a.createElement(Y.a.Group,{controlId:"formQuery"},c.a.createElement(Y.a.Control,{placeholder:"Enter username",value:o,onChange:function(e){var a=e.target;return u(a.value)}})),c.a.createElement(Z.a,{type:"submit",disabled:a,block:!0},i,"Search",c.a.createElement(ee.a,{icon:ae.c,className:"ml-1"})))},re=t(106),ne=function(e){var a=e.searchQuery;return c.a.createElement("p",null,'Showing users for "',a,'"')},ce=t(103),se=t(52),oe=t(25),ue=t.n(oe),ie=function(e){var a=e.repo,t=a.name,r=a.description,n=a.stargazersCount;return c.a.createElement("section",{className:ue.a.wrapper},c.a.createElement(ce.a,{className:ue.a["main-row"]},c.a.createElement(se.a,{sm:"10"},t),c.a.createElement(se.a,{sm:"2",className:ue.a["stargazers-col"]},n,c.a.createElement(ee.a,{icon:ae.d,className:"ml-1"}))),c.a.createElement(ce.a,{className:ue.a["description-row"]},c.a.createElement(se.a,null,r)))},pe=t(53),le=t.n(pe),de=function(){return c.a.createElement("div",{className:le.a.wrapper,"data-testid":"loading-mask"},c.a.createElement(K.a,{animation:"border",variant:"primary"}))},fe=t(107),ge=t(54),me=t.n(ge),be=function(e){var a=e.pagination,t=a.page,r=a.pageCount,n=e.onPageChange,s=e.fetching,o=e.size;if(1===r)return null;var u=s||1===t,i=s||t===r;return c.a.createElement(fe.a,{size:o,className:me.a.pagination},c.a.createElement(fe.a.First,{disabled:u,onClick:function(){return n(1)},"data-testid":"first-button"}),c.a.createElement(fe.a.Prev,{disabled:u,onClick:function(){return n(t-1)},"data-testid":"prev-button"}),c.a.createElement(fe.a.Item,{active:!0},t,"/",r),c.a.createElement(fe.a.Next,{disabled:i,onClick:function(){return n(t+1)},"data-testid":"next-button"}),c.a.createElement(fe.a.Last,{disabled:i,onClick:function(){return n(r)},"data-testid":"last-button"}))},he=t(55),Ee=t.n(he),ve=function(e){var a=e.user,t=e.updateUserReposPage,r=!a.error&&a.repos.map((function(e){return c.a.createElement(ie,{key:e.id,repo:e})})),n=a.fetching&&c.a.createElement(de,null),s=a.error&&c.a.createElement(re.a,{variant:"danger"},"Error while fetching user repositories!"),o=!a.error&&0===a.repos.length&&c.a.createElement(re.a,{variant:"info"},"No repositories found for the user.");return c.a.createElement("div",{className:Ee.a.wrapper},n,s,o,r,c.a.createElement(be,{pagination:a.pagination,onPageChange:function(e){return t(e,a.id)},fetching:a.fetching,size:"sm"}))},ye=t(58),Oe=t.n(ye),je=function(e){var a=e.user,t=e.updateUserReposPage,r=Object(n.useState)(!1),s=Object($.a)(r,2),o=s[0],u=s[1],i=o&&c.a.createElement(ve,{user:a,updateUserReposPage:t}),p=o?c.a.createElement(ee.a,{icon:ae.b}):c.a.createElement(ee.a,{icon:ae.a});return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:Oe.a.user,onClick:function(){return u((function(e){return!e}))}},c.a.createElement("span",null,a.login),c.a.createElement("span",null,p)),i)},_e=function(e){var a=e.users,t=e.pagination,r=e.fetching,n=e.updateUsersPage,s=e.updateUserReposPage,o=a.map((function(e){return c.a.createElement(je,{key:e.id,user:e,updateUserReposPage:s})}));return c.a.createElement(c.a.Fragment,null,o,c.a.createElement(be,{pagination:t,fetching:r,onPageChange:n}))},Ie=function(e){var a=e.searchQuery,t=e.fetching,r=e.error,n=e.users,s=e.pagination,o=e.updateUsersPage,u=e.updateUserReposPage,i=!r&&null!==a&&c.a.createElement(ne,{searchQuery:a}),p=r&&c.a.createElement(re.a,{variant:"danger"},"Error while searching for users!"),l=t&&c.a.createElement(de,null),d=!r&&0===n.length&&null!==a&&c.a.createElement(re.a,{variant:"info"},"No results found!"),f=!r&&null===a&&c.a.createElement(re.a,{variant:"info"},"Use browser to search for users and their repositories."),g=!r&&n.length>0&&c.a.createElement(_e,{users:n,pagination:s,fetching:t,updateUsersPage:o,updateUserReposPage:u});return c.a.createElement("section",{style:{position:"relative"},className:"mt-4"},i,p,l,d,f,g)},Re=function(){var e=Object(u.b)(),a=Object(u.c)(C),t=a.fetching,r=a.error,n=a.searchQuery,s=a.pagination,o=Object(u.c)(Q);return c.a.createElement("section",{className:"m-4"},c.a.createElement(te,{fetching:t,search:function(a){return e(X.searchUser(a))}}),c.a.createElement(Ie,{fetching:t,error:r,searchQuery:n,users:o,pagination:s,updateUsersPage:function(a){return e(X.updateUsersPage(a))},updateUserReposPage:function(a,t){return e(X.updateUserReposPage(a,t))}}))};var we=function(){return c.a.createElement(S.a,null,c.a.createElement(Re,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(98);var Ue=c.a.createElement(u.a,{store:U},c.a.createElement(c.a.StrictMode,null,c.a.createElement(we,null)));o.a.render(Ue,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[62,1,2]]]);
//# sourceMappingURL=main.2fcd260c.chunk.js.map